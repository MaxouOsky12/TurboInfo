<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TurboInfo - Le Meilleur De L'automobile</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet" />
  <meta name="google-site-verification" content="OYInI8VwXMVQGWxIbAGBe0o_2B0PgRQw0oeBRaj5Y-o" />
  <meta name="description" content="TurboInfo - Le meilleur site d'actualités automobiles, voitures électriques, Tesla, BMW, Ford et nouveautés du marché automobile." />
  <meta name="keywords" content="automobile, actualités voitures, Tesla, BMW, Ford, voitures électriques, info auto, test auto" />
  <meta name="robots" content="index, follow" />
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

  <style>
    :root {
      --color-bg: #f1f5f9;                /* Gris très clair pour un fond épuré */
      --color-card: #ffffff;              /* Blanc pur pour les cartes */
      --color-text: #1e293b;              /* Gris anthracite pour le texte */
      --color-muted: #475569;             /* Gris moyen pour sous-textes */
      --color-accent: #1e40af;            /* Bleu profond pour un look premium */
      --color-accent-hover: #1e3a8a;      /* Bleu légèrement plus sombre pour hover */
      --border-color: #d4d8dd;            /* Bordure subtile gris clair */
      --shadow-light: rgba(0, 0, 0, 0.06); /* Ombre légère raffinée */
      --shadow-dark: rgba(0, 0, 0, 0.12); /* Ombre pour profondeur */
      --color-dark-bg: #0f172a;           /* Gris très sombre pour mode sombre */
      --color-dark-card: #1e293b;         /* Gris foncé pour cartes en mode sombre */
      --color-dark-text: #f1f5f9;         /* Texte clair pour mode sombre */
      --color-dark-muted: #94a3b8;        /* Gris clair pour sous-textes en mode sombre */
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--color-bg);
      color: var(--color-text);
      font-family: 'Inter', sans-serif;
      padding: clamp(1.5rem, 4vw, 2rem);
      max-width: 1400px;
      margin: auto;
      line-height: 1.8;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background 0.3s ease, color 0.3s ease;
    }

    body.dark-mode {
      background: var(--color-dark-bg);
      color: var(--color-dark-text);
    }

    body.dark-mode .featured-article,
    body.dark-mode .article-card,
    body.dark-mode .detail-view,
    body.dark-mode .newsletter {
      background: var(--color-dark-card);
    }

    body.dark-mode .subtitle {
      color: var(--color-dark-muted);
    }

    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
      color: var(--color-accent);
    }

    h1 {
      font-size: clamp(2rem, 5vw, 2.75rem);
      margin-bottom: 1rem;
      border-bottom: 3px solid var(--color-accent);
      padding-bottom: 0.75rem;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    h2 {
      font-size: clamp(1.5rem, 4vw, 1.875rem);
      margin-bottom: 0.875rem;
      color: var(--color-text);
    }

    body.dark-mode h2, body.dark-mode h3 {
      color: var(--color-dark-text);
    }

    h3 {
      font-size: clamp(1.125rem, 3vw, 1.375rem);
      margin-bottom: 0.625rem;
      color: var(--color-text);
    }

    a {
      color: var(--color-accent);
      text-decoration: none;
      border-bottom: 2px solid var(--color-accent);
      transition: color 0.3s ease, border-color 0.3s ease;
    }

    a:hover {
      color: var(--color-accent-hover);
      border-color: var(--color-accent-hover);
    }

    p.subtitle {
      color: var(--color-muted);
      font-size: clamp(0.875rem, 2.5vw, 0.9375rem);
      margin-bottom: 2rem;
      border-left: 4px solid var(--color-accent);
      padding-left: 0.875rem;
      font-style: italic;
      letter-spacing: 0.02em;
    }

    .date {
      font-size: clamp(0.75rem, 2vw, 0.875rem);
      color: var(--color-muted);
      margin-top: 0.625rem;
      font-style: italic;
    }

    body.dark-mode .date, body.dark-mode .article-info p, body.dark-mode .featured-content p, body.dark-mode .newsletter p {
      color: var(--color-dark-muted);
    }

    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1.25rem;
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.8));
      padding: 1.25rem;
      border-radius: 0.75rem;
      box-shadow: 0 4px 12px var(--shadow-light);
    }

    body.dark-mode .header {
      background: linear-gradient(180deg, rgba(31,41,55,0.95), rgba(31,41,55,0.8));
    }

    .search-bar {
      display: flex;
      align-items: center;
      gap: 0.625rem;
      max-width: 400px;
      width: 100%;
    }

    .search-bar input {
      padding: 0.625rem 1.125rem;
      border: 2px solid var(--border-color);
      border-radius: 0.5rem;
      font-size: clamp(0.875rem, 2vw, 0.9375rem);
      width: 100%;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .search-bar input:focus {
      border-color: var(--color-accent);
      box-shadow: 0 0 6px rgba(30, 64, 175, 0.2);
      outline: none;
    }

    .theme-toggle {
      background: transparent;
      border: 2px solid var(--color-accent);
      color: var(--color-accent);
      padding: 0.5rem 1.125rem;
      border-radius: 0.5rem;
      cursor: pointer;
      font-weight: 600;
      font-size: clamp(0.875rem, 2vw, 0.9375rem);
      transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
    }

    .theme-toggle:hover {
      background-color: var(--color-accent);
      color: var(--color-bg);
      transform: scale(1.05);
    }

    body.dark-mode .theme-toggle {
      color: var(--color-dark-text);
      border-color: var(--color-dark-text);
    }

    body.dark-mode .theme-toggle:hover {
      background-color: var(--color-dark-text);
      color: var(--color-dark-bg);
    }

    /* Conteneur principal */
    .container {
      display: flex;
      flex-direction: column;
      gap: clamp(1.75rem, 4vw, 2.5rem);
    }

    /* Grand article */
    .featured-article {
      background: var(--color-card);
      border-radius: 1rem;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 6px 20px var(--shadow-light);
      border-left: 5px solid var(--color-accent);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .featured-article:hover {
      transform: translateY(-5px) scale(1.01);
      box-shadow: 0 12px 40px var(--shadow-dark);
    }

    .featured-article img {
      width: 100%;
      height: clamp(220px, 40vw, 400px);
      object-fit: cover;
      transition: transform 0.4s ease;
      border-bottom: 2px solid var(--color-accent);
    }

    .featured-article:hover img {
      transform: scale(1.04);
    }

    .featured-content {
      padding: clamp(1.25rem, 3vw, 1.75rem);
    }

    .featured-content p {
      color: var(--color-muted);
      font-size: clamp(0.9375rem, 2.5vw, 1rem);
      line-height: 1.7;
    }

    /* Grille articles */
    .articles-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
      gap: clamp(1.25rem, 3.5vw, 1.75rem);
    }

    .article-card {
      background: var(--color-card);
      border-radius: 1rem;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 4px 15px var(--shadow-light);
      border-left: 4px solid transparent;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }

    .article-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px var(--shadow-dark);
      border-left-color: var(--color-accent);
    }

    .article-card img {
      width: 100%;
      height: clamp(160px, 25vw, 200px);
      object-fit: cover;
      transition: transform 0.4s ease;
      border-bottom: 1.5px solid var(--border-color);
    }

    .article-card:hover img {
      transform: scale(1.05);
    }

    .article-info {
      padding: clamp(1rem, 2.5vw, 1.25rem);
    }

    .article-info h3 {
      font-size: clamp(1.125rem, 3vw, 1.25rem);
      margin-bottom: 0.625rem;
      color: var(--color-text);
      line-height: 1.5;
    }

    .article-info p {
      font-size: clamp(0.875rem, 2.5vw, 0.9375rem);
      color: var(--color-muted);
      line-height: 1.6;
    }

    /* Newsletter */
    .newsletter {
      background: var(--color-card);
      border-radius: 1rem;
      padding: clamp(1.5rem, 3vw, 2rem);
      box-shadow: 0 4px 15px var(--shadow-light);
      margin-top: 2rem;
      text-align: center;
    }

    .newsletter h2 {
      font-size: clamp(1.5rem, 4vw, 1.75rem);
      margin-bottom: 1rem;
    }

    .newsletter form {
      display: flex;
      gap: 0.5rem;
      max-width: 500px;
      margin: 0 auto;
      flex-wrap: wrap;
      justify-content: center;
    }

    .newsletter input {
      padding: 0.5rem 1rem;
      border: 2px solid var(--border-color);
      border-radius: 0.5rem;
      font-size: clamp(0.875rem, 2vw, 1rem);
      width: clamp(200px, 50%, 300px);
      transition: border-color 0.3s ease;
    }

    .newsletter input:focus {
      border-color: var(--color-accent);
      outline: none;
    }

    .newsletter button {
      background: var(--color-accent);
      color: var(--color-bg);
      border: none;
      padding: 0.5rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .newsletter button:hover {
      background-color: var(--color-accent-hover);
      transform: scale(1.05);
    }

    /* Vue détail */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      z-index: 900;
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .detail-view {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--color-card);
      width: min(90vw, 900px);
      max-height: 90vh;
      border-radius: 1rem;
      box-shadow: 0 0 60px var(--shadow-dark);
      overflow-y: auto;
      padding: clamp(1.75rem, 4vw, 2.25rem);
      z-index: 1000;
      color: var(--color-text);
      display: none;
      flex-direction: column;
      animation: scaleIn 0.3s ease;
    }

    .detail-view img {
      width: 100%;
      height: clamp(200px, 35vw, 350px);
      object-fit: cover;
      border-radius: 0.75rem;
      margin-bottom: 1.75rem;
      border: 2px solid var(--color-accent);
    }

    .detail-view h2 {
      font-size: clamp(1.5rem, 4vw, 2rem);
      margin-bottom: 1rem;
      color: var(--color-text);
    }

    .detail-view p {
      line-height: 1.8;
      font-size: clamp(1rem, 2.5vw, 1.125rem);
      margin-bottom: 1.75rem;
      white-space: pre-wrap;
      color: var(--color-text);
    }

    body.dark-mode .detail-view p {
      color: var(--color-dark-text);
    }

    .detail-source {
      font-size: clamp(0.875rem, 2vw, 0.9375rem);
      color: var(--color-muted);
      margin-bottom: 1.5rem;
      font-style: italic;
    }

    body.dark-mode .detail-source {
      color: var(--color-dark-muted);
    }

    .detail-source a {
      font-weight: 600;
      color: var(--color-accent);
      border-bottom: 2px solid var(--color-accent);
    }

    .detail-source a:hover {
      color: var(--color-accent-hover);
      border-color: var(--color-accent-hover);
    }

    .btn-close {
      align-self: flex-end;
      background: transparent;
      border: 2px solid var(--color-accent);
      color: var(--color-accent);
      padding: 0.625rem 1.25rem;
      font-weight: 600;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
      font-size: clamp(0.875rem, 2vw, 0.9375rem);
      letter-spacing: 0.05em;
    }

    .btn-close:hover {
      background-color: var(--color-accent);
      color: var(--color-bg);
      transform: scale(1.05);
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes scaleIn {
      from { transform: translate(-50%, -50%) scale(0.95); opacity: 0; }
      to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    /* Media Queries pour responsivité */
    @media (max-width: 768px) {
      .featured-article img {
        height: clamp(180px, 45vw, 320px);
      }

      .articles-grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
      }

      .article-card img {
        height: clamp(150px, 40vw, 180px);
      }

      .detail-view {
        width: 95vw;
        padding: 1.5rem;
      }

      .detail-view img {
        height: clamp(160px, 45vw, 280px);
      }

      .header {
        flex-direction: column;
        align-items: flex-start;
      }

      .search-bar {
        max-width: 100%;
      }

      .newsletter form {
        flex-direction: column;
      }

      .newsletter input {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: clamp(1.75rem, 5.5vw, 2rem);
      }

      .featured-content {
        padding: 1rem;
      }

      .article-info {
        padding: 0.875rem;
      }

      .btn-close {
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
      }
    }

    /* Amélioration accessibilité */
    a:focus,
    .btn-close:focus,
    .featured-article:focus,
    .article-card:focus,
    .theme-toggle:focus,
    .newsletter input:focus,
    .newsletter button:focus {
      outline: 3px solid var(--color-accent);
      outline-offset: 3px;
    }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <h1>Le Journal Auto</h1>
      <p class="subtitle">Votre source d'actualités automobiles premium.</p>
    </div>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Rechercher un article..." aria-label="Rechercher des articles automobiles" />
      <button class="theme-toggle" id="themeToggle">Mode Sombre</button>
    </div>
  </div>

  <div class="container" id="articlesContainer">
    <div id="featuredArticle"></div>
    <div class="articles-grid" id="articlesGrid"></div>
  </div>

  <div class="newsletter">
    <h2>Inscrivez-vous à notre newsletter</h2>
    <p class="subtitle">Recevez les dernières actualités automobiles directement dans votre boîte de réception.</p>
    <form id="newsletterForm">
      <input type="email" id="newsletterEmail" placeholder="Entrez votre email" aria-label="Entrez votre adresse email" required />
      <button type="submit">S'inscrire</button>
    </form>
  </div>

  <div class="overlay" id="overlay"></div>
  <div class="detail-view" id="detailView">
    <button class="btn-close" id="closeDetail">Fermer ✕</button>
    <img id="detailImage" src="" alt="Image article" />
    <h2 id="detailTitle"></h2>
    <div class="date" id="detailDate"></div>
    <p id="detailContent"></p>
    <div class="detail-source">Source : <a href="#" target="_blank" id="detailSourceLink">Voir original</a></div>
  </div>

  <script>
    (function() {
      emailjs.init("YOUR_PUBLIC_KEY"); // Remplacez par votre clé publique EmailJS
    })();

    const articles = [
      {
        title: "Automobile : Renault prépare un modèle électrifié sur base Geely",
        excerpt: "Le constructeur français va s’appuyer sur une plateforme chinoise pour accélérer son offre électrique et hybride.",
        content: `Renault travaille sur un futur modèle électrifié reposant sur la base technique du SUV chinois Geely Galaxy E5. 
        Ce projet s’inscrit dans le cadre du partenariat stratégique entre les deux groupes, déjà à l’origine du Grand Koleos en Corée du Sud. 
        L’objectif est de réduire les coûts et de gagner du temps en utilisant une architecture déjà éprouvée. 
        La coentreprise Horse Powertrain pourrait y intégrer son système innovant capable de convertir une plateforme électrique en hybride. 
        Ce véhicule marquera une étape importante dans l’expansion internationale de Renault.`,
        image: "https://images.caradisiac.com/logos/0/0/2/5/290025/S7-bientot-une-renault-electrifiee-reprenant-la-technologie-du-chinois-geely-217271.jpg",
        source: "https://www.caradisiac.com/bientot-une-renault-electrifiee-reprenant-la-technologie-du-chinois-geely-217271.htm",
        date: "2025-08-14"
      },
      {
        title: "Automobile : l'électrique progresse doucement dans les flottes d'entreprise",
        excerpt: "Malgré les aides et la pression réglementaire, la transition électrique des flottes professionnelles avance à petits pas.",
        content: `Selon une enquête publiée par Le Monde, la part des véhicules électriques dans les flottes d’entreprise françaises reste modeste, 
        même si elle progresse régulièrement. Les gestionnaires évoquent des freins liés au coût d’acquisition, à la disponibilité des modèles 
        et au déploiement d’infrastructures de recharge. Néanmoins, les incitations fiscales et les nouvelles offres de leasing favorisent peu à peu 
        l’intégration des VE dans les parcs, notamment pour réduire les coûts d’exploitation à long terme et anticiper les zones à faibles émissions.`,
        image: "https://plus.unsplash.com/premium_photo-1714672716183-a24d36dc9169?q=80&w=1297&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        source: "https://www.lemonde.fr/economie/article/2024/10/13/automobile-l-electrique-progresse-doucement-dans-les-flottes-d-entreprise_6350856_3234.html",
        date: "2025-08-13"
      },
      {
        title: "Tesla annonce une mise à jour majeure de l'Autopilot avec FSD v14",
        excerpt: "Tesla déploie une nouvelle version de son logiciel de conduite autonome, promettant une sécurité accrue et une meilleure performance.",
        content: `Tesla prévoit de déployer la version 14 de son logiciel Full Self-Driving (FSD) dans environ six semaines. Cette mise à jour introduira une architecture d'IA améliorée, offrant une sécurité exponentiellement meilleure et une gestion plus fluide des situations complexes. Elon Musk a annoncé que cette version comportera dix fois plus de paramètres que la précédente, visant à rapprocher Tesla d'une conduite entièrement autonome. Cette évolution est cruciale pour les ambitions de Tesla en matière de robotaxis et pour maintenir son avance dans le domaine de la conduite autonome.`,
        image: "https://images.unsplash.com/photo-1518183214770-9cffbec72538?auto=format&fit=crop&w=1400&q=80",
        source: "https://www.teslaoracle.com/2025/08/11/tesla-to-rollout-fsd-v14-in-6-weeks-with-10x-parameters-and-exponentially-better-safety-says-musk/",
        date: "2025-08-11"
      },
      {
        title: "BMW dévoile la i4 M60 xDrive, sa berline électrique hautes performances",
        excerpt: "BMW lance la version M60 xDrive de la i4, offrant 601 chevaux et une accélération de 0 à 100 km/h en 3,7 secondes.",
        content: `À partir de juillet 2025, BMW a introduit la i4 M60 xDrive, la nouvelle version hautes performances de sa berline électrique. Avec une puissance de 601 chevaux et une accélération de 0 à 100 km/h en seulement 3,7 secondes, cette version surpasse les précédents modèles de la gamme i4. De plus, elle offre une autonomie combinée allant de 433 à 551 km selon la norme WLTP, et un temps de recharge rapide grâce à la technologie de charge haute puissance.`,
        image: "https://www.bmw-m.com/content/dam/bmw/marketBMW_M/www_bmw-m_com/all-models/m-performance-automobile/i4-m50/2024/bmw-i4-m50-hd-03.jpg",
        source: "https://www.press.bmwgroup.com/canada/article/detail/T0450468EN/bmw-model-updates-summer-2025?language=en",
        date: "2025-08-09"
      },
      {
        title: "Ford annonce la Mustang Mach-E 2026 avec de nouvelles options de personnalisation",
        excerpt: "La nouvelle Mustang Mach-E 2026 offre des couleurs et des options de personnalisation inédites.",
        content: `Ford a dévoilé la Mustang Mach-E 2026, introduisant de nouvelles options de personnalisation pour sa berline électrique. Parmi les nouveautés, on trouve des couleurs de carrosserie telles que l'Adriatic Blue Metallic et l'Orange Fury Metallic Tri-coat. De plus, de nouvelles couleurs de ceintures de sécurité, comme le Prime Blue et le Black avec Red Stripe, sont désormais disponibles. Ces ajouts visent à offrir aux clients une expérience plus personnalisée et dynamique.`,
        image: "https://newfordmodel.com/wp-content/uploads/2025/02/2026-Ford-Mustang-Mach-E-Redesign.jpg",
        source: "https://www.ford.com/cars/mustang/2026/models/",
        date: "2025-08-08"
      },
      {
        title: "La Chine impose de nouvelles normes pour accélérer la production de véhicules électriques",
        excerpt: "Le gouvernement chinois publie des directives strictes pour stimuler la fabrication et l’adoption des VE.",
        content: `Dans le cadre de son plan de neutralité carbone, la Chine vient d'annoncer de nouvelles règles pour favoriser la production locale de véhicules électriques, avec des incitations fiscales et des exigences environnementales renforcées. Ces mesures devraient accélérer l'innovation et la compétitivité sur le marché mondial.`,
        image: "https://plus.unsplash.com/premium_photo-1664304492320-8359efcaad38?q=80&w=1033&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        source: "https://www.reuters.com/business/autos-transportation/china-tighten-ev-battery-rules-reduce-fire-explosion-risks-2025-04-15/",
        date: "2025-08-07"
      }
    ];

    const featuredArticleDiv = document.getElementById('featuredArticle');
    const articlesGridDiv = document.getElementById('articlesGrid');
    const overlay = document.getElementById('overlay');
    const detailView = document.getElementById('detailView');
    const detailImage = document.getElementById('detailImage');
    const detailTitle = document.getElementById('detailTitle');
    const detailDate = document.getElementById('detailDate');
    const detailContent = document.getElementById('detailContent');
    const detailSourceLink = document.getElementById('detailSourceLink');
    const closeDetailBtn = document.getElementById('closeDetail');
    const searchInput = document.getElementById('searchInput');
    const themeToggle = document.getElementById('themeToggle');
    const newsletterForm = document.getElementById('newsletterForm');
    let filteredArticles = [...articles];

    // Trier par date décroissante
    articles.sort((a, b) => new Date(b.date) - new Date(a.date));

    function createFeaturedArticle(article) {
      const div = document.createElement('div');
      div.className = 'featured-article';
      div.innerHTML = `
        <img src="${article.image}" alt="Image article" />
        <div class="featured-content">
          <h2>${article.title}</h2>
          <div class="date">${article.date}</div>
          <p>${article.excerpt}</p>
        </div>
      `;
      div.addEventListener('click', () => openDetail(article));
      return div;
    }

    function createArticleCard(article) {
      const div = document.createElement('div');
      div.className = 'article-card';
      div.innerHTML = `
        <img src="${article.image}" alt="Image article" />
        <div class="article-info">
          <h3>${article.title}</h3>
          <div class="date">${article.date}</div>
          <p>${article.excerpt}</p>
        </div>
      `;
      div.addEventListener('click', () => openDetail(article));
      return div;
    }

    function openDetail(article) {
      detailImage.src = article.image;
      detailTitle.textContent = article.title;
      detailDate.textContent = article.date;
      detailContent.textContent = article.content;
      detailSourceLink.href = article.source;
      overlay.style.display = 'block';
      detailView.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeDetail() {
      overlay.style.display = 'none';
      detailView.style.display = 'none';
      document.body.style.overflow = '';
    }

    function updateArticles() {
      featuredArticleDiv.innerHTML = '';
      articlesGridDiv.innerHTML = '';
      if (filteredArticles.length === 0) {
        articlesGridDiv.innerHTML = '<p>Aucun article trouvé.</p>';
        return;
      }
      featuredArticleDiv.appendChild(createFeaturedArticle(filteredArticles[0]));
      for (let i = 1; i < filteredArticles.length; i++) {
        articlesGridDiv.appendChild(createArticleCard(filteredArticles[i]));
      }
    }

    // Recherche
    searchInput.addEventListener('input', (e) => {
      const searchTerm = e.target.value.toLowerCase();
      filteredArticles = articles.filter(article =>
        article.title.toLowerCase().includes(searchTerm) ||
        article.excerpt.toLowerCase().includes(searchTerm) ||
        article.content.toLowerCase().includes(searchTerm)
      );
      updateArticles();
    });

    // Mode sombre
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      themeToggle.textContent = document.body.classList.contains('dark-mode')
        ? 'Mode Clair'
        : 'Mode Sombre';
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    });

    // Charger le thème sauvegardé
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      themeToggle.textContent = 'Mode Clair';
    }

    // Newsletter
    newsletterForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const email = document.getElementById('newsletterEmail').value;
      if (email) {
        emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", {
          user_email: email,
          message: "Merci de vous être inscrit à la newsletter de TurboInfo ! Vous recevrez bientôt les dernières actualités automobiles."
        })
        .then(() => {
          alert('Inscription réussie ! Vérifiez votre boîte de réception pour la confirmation.');
          newsletterForm.reset();
        }, (error) => {
          alert('Erreur lors de l\'inscription. Veuillez réessayer plus tard.');
          console.error('EmailJS error:', error);
        });
      }
    });

    closeDetailBtn.addEventListener('click', closeDetail);
    overlay.addEventListener('click', closeDetail);

    // Initialisation page
    function init() {
      updateArticles();
    }

    init();
  </script>
</body>
</html>
